{"ast":null,"code":"// src/components/DrawCanvas.js\nimport React,{useRef}from'react';import CanvasDraw from'react-canvas-draw';import{storage,firestore,auth}from'../firebaseConfig';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DrawCanvas=()=>{const canvasRef=useRef();const saveDrawing=async()=>{const drawingData=canvasRef.current.getSaveData();const user=auth.currentUser;if(user){const storageRef=storage.ref(`drawings/${user.uid}/${Date.now()}.png`);await storageRef.putString(drawingData,'data_url');const url=await storageRef.getDownloadURL();firestore.collection('drawings').add({url,userId:user.uid,createdAt:new Date()});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CanvasDraw,{ref:canvasRef}),/*#__PURE__*/_jsx(\"button\",{onClick:saveDrawing,children:\"Save Drawing\"})]});};export default DrawCanvas;","map":{"version":3,"names":["React","useRef","CanvasDraw","storage","firestore","auth","jsx","_jsx","jsxs","_jsxs","DrawCanvas","canvasRef","saveDrawing","drawingData","current","getSaveData","user","currentUser","storageRef","ref","uid","Date","now","putString","url","getDownloadURL","collection","add","userId","createdAt","children","onClick"],"sources":["/Users/wadimseminsky/Downloads/Github/llama/llama-2-70b-chat/drawing-app/src/components/DrawCanvas.js"],"sourcesContent":["// src/components/DrawCanvas.js\nimport React, { useRef } from 'react';\nimport CanvasDraw from 'react-canvas-draw';\nimport { storage, firestore, auth } from '../firebaseConfig';\n\nconst DrawCanvas = () => {\n  const canvasRef = useRef();\n\n  const saveDrawing = async () => {\n    const drawingData = canvasRef.current.getSaveData();\n    const user = auth.currentUser;\n\n    if (user) {\n      const storageRef = storage.ref(`drawings/${user.uid}/${Date.now()}.png`);\n      await storageRef.putString(drawingData, 'data_url');\n      const url = await storageRef.getDownloadURL();\n\n      firestore.collection('drawings').add({\n        url,\n        userId: user.uid,\n        createdAt: new Date(),\n      });\n    }\n  };\n\n  return (\n    <div>\n      <CanvasDraw ref={canvasRef} />\n      <button onClick={saveDrawing}>Save Drawing</button>\n    </div>\n  );\n};\n\nexport default DrawCanvas;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,MAAO,CAAAC,UAAU,KAAM,mBAAmB,CAC1C,OAASC,OAAO,CAAEC,SAAS,CAAEC,IAAI,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,SAAS,CAAGV,MAAM,CAAC,CAAC,CAE1B,KAAM,CAAAW,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,WAAW,CAAGF,SAAS,CAACG,OAAO,CAACC,WAAW,CAAC,CAAC,CACnD,KAAM,CAAAC,IAAI,CAAGX,IAAI,CAACY,WAAW,CAE7B,GAAID,IAAI,CAAE,CACR,KAAM,CAAAE,UAAU,CAAGf,OAAO,CAACgB,GAAG,CAAC,YAAYH,IAAI,CAACI,GAAG,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,MAAM,CAAC,CACxE,KAAM,CAAAJ,UAAU,CAACK,SAAS,CAACV,WAAW,CAAE,UAAU,CAAC,CACnD,KAAM,CAAAW,GAAG,CAAG,KAAM,CAAAN,UAAU,CAACO,cAAc,CAAC,CAAC,CAE7CrB,SAAS,CAACsB,UAAU,CAAC,UAAU,CAAC,CAACC,GAAG,CAAC,CACnCH,GAAG,CACHI,MAAM,CAAEZ,IAAI,CAACI,GAAG,CAChBS,SAAS,CAAE,GAAI,CAAAR,IAAI,CAAC,CACtB,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACEZ,KAAA,QAAAqB,QAAA,eACEvB,IAAA,CAACL,UAAU,EAACiB,GAAG,CAAER,SAAU,CAAE,CAAC,cAC9BJ,IAAA,WAAQwB,OAAO,CAAEnB,WAAY,CAAAkB,QAAA,CAAC,cAAY,CAAQ,CAAC,EAChD,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}